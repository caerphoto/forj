<div id="threadspane" class="clr2 br">
    <div id="folders_loading_msg" class="loading_msg bb">Loading threads...</div>
    <% if user_signed_in? %>
        <% if user_signed_in? and current_user.rank > 1 %>
            <button id="btnNewFolder">New Folder</button>
        <% end %>
        <button id="btnNewThread">New Thread</button>
    <% end %>
        <button id="btnReloadThreadsList">Refresh</button>
        <br />
    <% if user_signed_in? %>
        <label class="select-menu" for="selThreadsView">Threads:</label> <select id="selThreadsView">
            <option value="UNREAD" selected>unread</option>
            <option value="ALL">all</option>
        </select>
    <% end %>
    <ul id="folder_list">
    </ul>
</div>

<div id="postspane">
    <div id="thread_loading_msg" class="loading_msg bb">Loading posts&hellip;</div>
    <h2 id="thread_title" class="thread_title">Welcome To FORJ Forum</h2>

    <div id="post_buttons_prev" class="posts_nav unfouc">
        <button id="btnFirstPosts">First Posts</button>
        <button id="btnPrevPosts">More Posts</button>
    </div>

    <ul id="posts_container">
    <li class="post clr2 bb">
    <div class="post_body">
    <p>Click a thread from the list on the left to start reading.</p>
    <p>You can <%= link_to "register", new_user_registration_path %> or 
    <%= link_to "sign in", new_user_session_path %>, which will allow you to
    post replies and create new threads.</p>
    <p>The forum also remembers which posts resgistered users have read, and
    will display a drop-down list at the top of the threads pane to quickly 
    switch between showing All threads, or only those with Unread posts.</p>
    </div>
    </li>
    </ul>

    <div id="post_buttons_next" class="posts_nav unfouc">
        <button id="btnNextPosts">More Posts</button>
        <button id="btnLastPosts">Last Posts</button>
    </div>

   <% if user_signed_in? %>
    <div id="replybox" class="unfouc">
        <div id="replybox_thread_title">
            <h2>Thread Title:</h2>
            <input type="text" /><br />
            <label class="select-menu" for="thread_folder">Post in folder:</label>
            <select id="selThreadFolder">
                <option value="0">(uncategorised)</option>
            </select>
        </div>
        <div id="replybox_options">
            <label class="select-menu" for="selReplyTo">To user:</label>
            <select id="selReplyTo">
                <option value="u0">(all)</option>
            </select>
            Note: you can format your posts using
            <a href="http://daringfireball.net/projects/markdown/syntax"
                target="_blank">Markdown syntax</a>.
        </div>
        <textarea id="reply_text"></textarea>
        <p id="post_preview_info">Post preview:</p>
        <p id="post_length_info">Post length <span id="post_length">0</span>
        characters out of <span id="max_post_length">300</span> maximum.</p>
        <button id="btnPostReply">Post</button>
        <button id="btnCancelReply">Cancel</button>
    </div>
    <% end %>
    <%= render :partial => "layouts/useredit_partial" %>
    <% if user_signed_in? and current_user.rank > 0 %>
        <%= render :partial => "layouts/folderedit_partial" %>
    <% end %>
</div>


<!-- Post template - used by showPosts as a source for cloning. This particular
one here gets removed on app init() -->
  <%= render :partial => "layouts/post_partial" %>
